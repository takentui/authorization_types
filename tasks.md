Домашнее задание №1
Тема: «Базовая авторизация на уровне Nginx-прокси»

-------------------------------------------------------------------
# TASK-SET: Nginx Basic Auth Hands-On

## Task 1 — Перевод `.htpasswd` на безопасный формат
• Цель: отказаться от `{PLAIN}`-пароля.  
• Шаги:  
  – Сгенерировать bcrypt-хеш (`htpasswd -B`).  
  – Заменить существующий файл `.htpasswd` (оставить комментарий об инструменте генерации).  
  – Удалить строку с открытым паролем из Git-истории (git filter-branch / BFG) — факультативно.

## Task 2 — Параметризация учётных данных через переменные окружения
• Цель: исключить жёсткую привязку пар логин/хеш.  
• Шаги:  
  – Добавить в `docker-compose.yml` секцию `secrets:` для `.htpasswd`.  
  – Создать скрипт `entrypoint-nginx.sh`, который генерирует `.htpasswd` из `$BASIC_AUTH_USER` и `$BASIC_AUTH_PWD_HASH` при старте контейнера.  
  – Обновить `Dockerfile` и `nginx.conf` с правильными путями.

## Task 3 — Разделение публичных и защищённых URI
• Цель: обеспечить доступ без авторизации к `/health` и `/public`, оставить защиту остального.  
• Шаги:  
  – В `nginx.conf` создать блок `location /public` без `auth_basic`.  
  – Убедиться, что `/health` уже открыт.  
  – Добавить комментарии, почему сделано именно так.

## Task 4 — Настройка ответов об ошибках
• Цель: улучшить UX при запросе без авторизации.  
• Шаги:   
  – Создать страницу `401.html` и директиву `error_page 401 /401.html;`.  
  – Настроить отдачу шаблона с коротким описанием ошибки.
